(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{633:function(t,a,s){"use strict";s.r(a);var n=s(60),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("举个🌰：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" formData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个空的FormData对象")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过FormData.append往对象里加入键值对")]),t._v("\nformData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lisi'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nformData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myFileInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("FormData.set和append的区别在于：如果指定的键已经存在，FormData.set会使用新值覆盖已有的值，而append会把新值添加到已有值集合的后面(即不会覆盖原有的值，会进行重复添加)。")]),t._v(" "),s("h2",{attrs:{id:"xmlhttprequest-upload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xmlhttprequest-upload"}},[t._v("#")]),t._v(" XMLHttpRequest.upload")]),t._v(" "),s("p",[t._v("XMLHttpRequest.upload属性返回一个XMLHttpRequestUpload对象，用来表示上传的进度。这个对象是不透明的，但是作为一个XMLHttpRequestEventTarget，可以通过对其绑定事件来追踪它的进度。")]),t._v(" "),s("p",[t._v("可以被绑定在upload对象上的事件监听器如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("事件")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("相应属性的信息类型")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("onloadstart")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("开始上传(一般可以用来设置上传进度条的显示)")])]),t._v(" "),s("tr",[s("td",[t._v("onprogress")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("上传进行中(一般可以用来动态设置上传的进度)")])]),t._v(" "),s("tr",[s("td",[t._v("onabort")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("上传操作终止")])]),t._v(" "),s("tr",[s("td",[t._v("onload")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("上传成功")])]),t._v(" "),s("tr",[s("td",[t._v("onerror")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("上传失败")])]),t._v(" "),s("tr",[s("td",[t._v("ontimeout")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("上传操作在用户规定的时间内未完成")])]),t._v(" "),s("tr",[s("td",[t._v("onloadend")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("上传操作完成（不论成功与否）")])])])]),t._v(" "),s("h2",{attrs:{id:"blob-binary-large-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blob-binary-large-object"}},[t._v("#")]),t._v(" BLOB (binary large object)")]),t._v(" "),s("h2",{attrs:{id:"参考文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[t._v("#")]),t._v(" 参考文档")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://libin1991.github.io/2018/12/15/Blob%E8%BF%9B%E8%A1%8C%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Blob进行文件上传"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);