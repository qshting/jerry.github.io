---
title: 2.设置npm的镜像
---

## 1)设置镜像

任意方式的使用：
```bash
# 1. 永久使用
npm config set registry https://registry.npm.taobao.org/

# 2. 临时使用
npm --registry https://registry.npm.taobao.org install express

# 3. 配置cnpm使用 (npm走的还是官方的，cnpm走的代理)
npm install -g cnpm --registry=https://registry.npm.taobao.org

# 4. 恢复到官方使用
npm config set registry https://registry.npmjs.org
```

验证是否成功：
```bash
# 方法1. 查看一个任意包的信息
npm info express

# 方法2. 查看当前返回的镜像
npm config get registry
```

```bash
# 全部使用特定源安装
npm install --registry=https://registry.npm.taobao.org
```

## 2)使用`.npmrc`

在项目根目录中新建`~/.npmrc`文件，并加入下面内容，安装项目依赖时将使用指定的registry。
```js
registry = https://registry.npm.taobao.org
```

## 3)nrm 管理源

nrm 是一个 npm 源管理器，允许你快速地在 npm源间切换。

```bash
# 安装nrm，查看版本，查看当前源
npm install -g nrm
nrm --version
nrm current
```

```bash
# 查看可选源 星号代表当前使用源
# 切换源
# 添加源
# 删除源
# 测试源速度
nrm ls
nrm use <registry>
nrm add <registry>
nrm del <registry>
nrm test npm
```

```js
// nrm ls 查看对应的源
npm ---------- https://registry.npmjs.org/
yarn --------- https://registry.yarnpkg.com/
tencent ------ https://mirrors.cloud.tencent.com/npm/
cnpm --------- https://r.cnpmjs.org/
taobao ------- https://registry.npmmirror.com/
npmMirror ---- https://skimdb.npmjs.com/registry/
```